<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2025-11-21T06:00:00.000Z" agent="Mozilla/5.0" version="22.1.11" etag="aws-serverless" type="device">
  <diagram name="Serverless Architecture" id="serverless-architecture">
    <mxGraphModel dx="1920" dy="1080" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" background="#F5F5F5">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <!-- Users Icon -->
        <mxCell id="users-group" value="" style="shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_users;fillColor=#E1D5E7;strokeColor=#9673A6;verticalAlign=bottom;align=center;fontStyle=1;fontSize=14;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="860" y="40" width="200" height="100" as="geometry"/>
        </mxCell>
        
        <mxCell id="users-label" value="End Users&#xa;(PyQt5 GUI / CLI / Tests)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="860" y="110" width="200" height="30" as="geometry"/>
        </mxCell>
        
        <!-- Internet -->
        <mxCell id="internet" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.internet_gateway;" vertex="1" parent="1">
          <mxGeometry x="931" y="180" width="58" height="58" as="geometry"/>
        </mxCell>
        
        <mxCell id="internet-label" value="Internet / HTTPS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="900" y="245" width="120" height="20" as="geometry"/>
        </mxCell>
        
        <!-- Connection: Users to Internet -->
        <mxCell id="conn-users-internet" value="" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#8B5CF6;rounded=0;" edge="1" parent="1" source="users-group" target="internet">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="960" y="140" as="sourcePoint"/>
            <mxPoint x="960" y="180" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        
        <!-- AWS Cloud Container -->
        <mxCell id="aws-cloud" value="" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud;strokeColor=#FF9900;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#FF9900;dashed=0;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="80" y="300" width="1760" height="720" as="geometry"/>
        </mxCell>
        
        <mxCell id="cloud-label" value="AWS Cloud - ap-southeast-1 (Singapore)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#FF9900" vertex="1" parent="1">
          <mxGeometry x="100" y="310" width="400" height="30" as="geometry"/>
        </mxCell>
        
        <!-- CloudFormation Stacks Info Box -->
        <mxCell id="stacks-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FF9800;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="120" y="360" width="1700" height="120" as="geometry"/>
        </mxCell>
        
        <mxCell id="stacks-title" value="ðŸ“¦ CloudFormation Deployment (3 Stacks - 75 Resources)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=15;fontStyle=1;fontColor=#FF9800" vertex="1" parent="1">
          <mxGeometry x="120" y="370" width="1700" height="25" as="geometry"/>
        </mxCell>
        
        <!-- Stack 1: Minimal -->
        <mxCell id="stack1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#4CAF50;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="150" y="410" width="500" height="55" as="geometry"/>
        </mxCell>
        
        <mxCell id="stack1-info" value="âœ… Stack 1: Minimal&#xa;DynamoDB (3 tables: Users, Embeddings, AccessLogs) + Cognito User Pool + SSM Parameters (3) + IAM Roles" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=0" vertex="1" parent="1">
          <mxGeometry x="160" y="415" width="480" height="45" as="geometry"/>
        </mxCell>
        
        <!-- Stack 2: Extended -->
        <mxCell id="stack2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#2196F3;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="690" y="410" width="500" height="55" as="geometry"/>
        </mxCell>
        
        <mxCell id="stack2-info" value="âœ… Stack 2: Extended&#xa;API Gateway + Lambda Functions (4: Health, ListPeople, DbStats, GetThresholds) + CloudWatch Logs + Lambda Layers" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=0" vertex="1" parent="1">
          <mxGeometry x="700" y="415" width="480" height="45" as="geometry"/>
        </mxCell>
        
        <!-- Stack 3: Business -->
        <mxCell id="stack3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#E91E63;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1230" y="410" width="540" height="55" as="geometry"/>
        </mxCell>
        
        <mxCell id="stack3-info" value="âœ… Stack 3: Business&#xa;Lambda Functions (2: Enroll, Identify) + S3 Bucket + Rekognition Collection + API Integration + CloudWatch Logs" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=0" vertex="1" parent="1">
          <mxGeometry x="1240" y="415" width="520" height="45" as="geometry"/>
        </mxCell>
        
        <!-- API Gateway -->
        <mxCell id="api-gateway-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57C00;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="320" y="520" width="380" height="180" as="geometry"/>
        </mxCell>
        
        <mxCell id="api-gateway-title" value="API Gateway (REST API)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#F57C00" vertex="1" parent="1">
          <mxGeometry x="320" y="530" width="380" height="25" as="geometry"/>
        </mxCell>
        
        <mxCell id="api-gateway-icon" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" vertex="1" parent="1">
          <mxGeometry x="350" y="570" width="60" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="api-endpoints" value="ðŸ“ Endpoints:&#xa;â€¢ POST /enroll&#xa;â€¢ POST /identify&#xa;â€¢ GET /people&#xa;â€¢ GET /health&#xa;â€¢ GET /stats&#xa;â€¢ GET /thresholds" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="430" y="565" width="250" height="115" as="geometry"/>
        </mxCell>
        
        <!-- Lambda Functions Layer -->
        <mxCell id="lambda-layer-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FF6F00;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="750" y="520" width="750" height="180" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-layer-title" value="AWS Lambda Functions (Serverless Compute)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#FF6F00" vertex="1" parent="1">
          <mxGeometry x="750" y="530" width="750" height="25" as="geometry"/>
        </mxCell>
        
        <!-- Extended Lambda Group -->
        <mxCell id="lambda-extended-group" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="780" y="570" width="330" height="110" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-extended-label" value="Extended Stack" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontColor=#1976D2" vertex="1" parent="1">
          <mxGeometry x="780" y="575" width="330" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-health" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="1">
          <mxGeometry x="810" y="605" width="45" height="45" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-health-label" value="Health" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="802" y="655" width="60" height="15" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-people" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="1">
          <mxGeometry x="890" y="605" width="45" height="45" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-people-label" value="People" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="882" y="655" width="60" height="15" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-stats" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="1">
          <mxGeometry x="970" y="605" width="45" height="45" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-stats-label" value="Stats" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="962" y="655" width="60" height="15" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-thresholds" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="1">
          <mxGeometry x="1050" y="605" width="45" height="45" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-thresholds-label" value="Thresholds" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1037" y="655" width="70" height="15" as="geometry"/>
        </mxCell>
        
        <!-- Business Lambda Group -->
        <mxCell id="lambda-business-group" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;strokeWidth=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="1140" y="570" width="330" height="110" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-business-label" value="Business Stack (Core Logic)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontColor=#C2185B" vertex="1" parent="1">
          <mxGeometry x="1140" y="575" width="330" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-enroll" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="1">
          <mxGeometry x="1200" y="605" width="60" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-enroll-label" value="Enroll" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1190" y="670" width="80" height="15" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-identify" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="1">
          <mxGeometry x="1350" y="605" width="60" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="lambda-identify-label" value="Identify" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1340" y="670" width="80" height="15" as="geometry"/>
        </mxCell>
        
        <!-- Data & Storage Layer -->
        <mxCell id="storage-layer-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#388E3C;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="120" y="740" width="680" height="240" as="geometry"/>
        </mxCell>
        
        <mxCell id="storage-layer-title" value="Data &amp; Storage Layer (Minimal Stack)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#388E3C" vertex="1" parent="1">
          <mxGeometry x="120" y="750" width="680" height="25" as="geometry"/>
        </mxCell>
        
        <!-- DynamoDB Group -->
        <mxCell id="dynamodb-group" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1976D2;strokeWidth=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="150" y="790" width="340" height="160" as="geometry"/>
        </mxCell>
        
        <mxCell id="dynamodb-group-label" value="DynamoDB Tables" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#1976D2" vertex="1" parent="1">
          <mxGeometry x="150" y="795" width="340" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="dynamodb-1" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" vertex="1" parent="1">
          <mxGeometry x="175" y="830" width="60" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="dynamodb-1-label" value="Users&#xa;Table" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="165" y="895" width="80" height="25" as="geometry"/>
        </mxCell>
        
        <mxCell id="dynamodb-2" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" vertex="1" parent="1">
          <mxGeometry x="285" y="830" width="60" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="dynamodb-2-label" value="Embeddings&#xa;Table" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="275" y="895" width="80" height="25" as="geometry"/>
        </mxCell>
        
        <mxCell id="dynamodb-3" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" vertex="1" parent="1">
          <mxGeometry x="395" y="830" width="60" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="dynamodb-3-label" value="Access Logs&#xa;Table (TTL)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="385" y="895" width="80" height="25" as="geometry"/>
        </mxCell>
        
        <!-- S3 + Cognito -->
        <mxCell id="s3-cognito-group" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#7CB342;strokeWidth=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="520" y="790" width="250" height="160" as="geometry"/>
        </mxCell>
        
        <mxCell id="s3-cognito-label" value="Storage &amp; Auth" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#7CB342" vertex="1" parent="1">
          <mxGeometry x="520" y="795" width="250" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="s3-bucket" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" vertex="1" parent="1">
          <mxGeometry x="550" y="830" width="70" height="70" as="geometry"/>
        </mxCell>
        
        <mxCell id="s3-label" value="S3 Bucket&#xa;Face Images" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="535" y="905" width="100" height="25" as="geometry"/>
        </mxCell>
        
        <mxCell id="cognito" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;" vertex="1" parent="1">
          <mxGeometry x="665" y="830" width="70" height="70" as="geometry"/>
        </mxCell>
        
        <mxCell id="cognito-label" value="Cognito&#xa;User Pool" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="650" y="905" width="100" height="25" as="geometry"/>
        </mxCell>
        
        <!-- AI/ML Services Layer -->
        <mxCell id="aiml-layer-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00897B;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="840" y="740" width="360" height="240" as="geometry"/>
        </mxCell>
        
        <mxCell id="aiml-layer-title" value="AI/ML Services (Business Stack)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#00897B" vertex="1" parent="1">
          <mxGeometry x="840" y="750" width="360" height="25" as="geometry"/>
        </mxCell>
        
        <mxCell id="rekognition" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#01A88D;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.rekognition;" vertex="1" parent="1">
          <mxGeometry x="981" y="810" width="78" height="78" as="geometry"/>
        </mxCell>
        
        <mxCell id="rekognition-label" value="Amazon Rekognition" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="945" y="893" width="150" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="rekognition-info" value="â€¢ Collection ID:&#xa;  face-recognition-dev&#xa;â€¢ IndexFaces&#xa;â€¢ SearchFacesByImage&#xa;â€¢ DeleteFaces" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="870" y="825" width="180" height="70" as="geometry"/>
        </mxCell>
        
        <!-- Management & Monitoring Layer -->
        <mxCell id="mgmt-layer-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#EF6C00;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1240" y="740" width="580" height="240" as="geometry"/>
        </mxCell>
        
        <mxCell id="mgmt-layer-title" value="Management &amp; Monitoring (Regional Services)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#EF6C00" vertex="1" parent="1">
          <mxGeometry x="1240" y="750" width="580" height="25" as="geometry"/>
        </mxCell>
        
        <!-- CloudWatch -->
        <mxCell id="cloudwatch" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudwatch_2;" vertex="1" parent="1">
          <mxGeometry x="1290" y="810" width="60" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="cloudwatch-label" value="CloudWatch&#xa;Logs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1280" y="875" width="80" height="25" as="geometry"/>
        </mxCell>
        
        <!-- SSM Parameter Store -->
        <mxCell id="ssm" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.systems_manager;" vertex="1" parent="1">
          <mxGeometry x="1400" y="810" width="60" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="ssm-label" value="SSM&#xa;Parameters (3)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1390" y="875" width="80" height="25" as="geometry"/>
        </mxCell>
        
        <!-- IAM -->
        <mxCell id="iam" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.identity_and_access_management;" vertex="1" parent="1">
          <mxGeometry x="1510" y="810" width="60" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="iam-label" value="IAM&#xa;Roles" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1500" y="875" width="80" height="25" as="geometry"/>
        </mxCell>
        
        <!-- CloudFormation -->
        <mxCell id="cloudformation" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudformation;" vertex="1" parent="1">
          <mxGeometry x="1620" y="810" width="60" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="cloudformation-label" value="CloudFormation&#xa;3 Stacks" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1610" y="875" width="80" height="25" as="geometry"/>
        </mxCell>
        
        <!-- CDK Info -->
        <mxCell id="cdk-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFDE7;strokeColor=#F9A825;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="1720" y="810" width="90" height="100" as="geometry"/>
        </mxCell>
        
        <mxCell id="cdk-title" value="AWS CDK" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontColor=#F57C00" vertex="1" parent="1">
          <mxGeometry x="1720" y="815" width="90" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="cdk-info" value="v2.1031.2&#xa;TypeScript&#xa;75 Resources&#xa;~3 min&#xa;deploy" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1720" y="840" width="90" height="65" as="geometry"/>
        </mxCell>
        
        <!-- Connection arrows -->
        <!-- Internet to API Gateway -->
        <mxCell id="conn-internet-api" value="HTTPS" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#8B5CF6;rounded=1;" edge="1" parent="1">
          <mxGeometry x="-0.2" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="960" y="238" as="sourcePoint"/>
            <mxPoint x="510" y="520" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="960" y="320"/>
              <mxPoint x="510" y="320"/>
            </Array>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        
        <!-- API Gateway to Extended Lambdas -->
        <mxCell id="conn-api-lambda-ext" value="Invoke" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#2196F3;rounded=1;" edge="1" parent="1">
          <mxGeometry x="0.1" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="600" as="sourcePoint"/>
            <mxPoint x="780" y="600" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        
        <!-- API Gateway to Business Lambdas -->
        <mxCell id="conn-api-lambda-bus" value="Invoke" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#E91E63;rounded=1;" edge="1" parent="1">
          <mxGeometry x="0.3" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="640" as="sourcePoint"/>
            <mxPoint x="1140" y="640" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        
        <!-- Lambda to DynamoDB -->
        <mxCell id="conn-lambda-ddb" value="Read/Write" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#1976D2;rounded=1;" edge="1" parent="1">
          <mxGeometry x="-0.15" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="945" y="700" as="sourcePoint"/>
            <mxPoint x="315" y="790" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="945" y="720"/>
              <mxPoint x="315" y="720"/>
            </Array>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        
        <!-- Business Lambda to S3 -->
        <mxCell id="conn-lambda-s3" value="Upload/Read" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#7CB342;rounded=1;" edge="1" parent="1">
          <mxGeometry x="-0.1" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1230" y="700" as="sourcePoint"/>
            <mxPoint x="585" y="830" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="1230" y="720"/>
              <mxPoint x="585" y="720"/>
            </Array>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        
        <!-- Business Lambda to Rekognition -->
        <mxCell id="conn-lambda-rek" value="IndexFaces&#xa;SearchFaces" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#00897B;rounded=1;" edge="1" parent="1">
          <mxGeometry x="-0.15" y="5" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1305" y="700" as="sourcePoint"/>
            <mxPoint x="1020" y="810" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="1305" y="720"/>
              <mxPoint x="1020" y="720"/>
            </Array>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        
        <!-- Lambda to SSM -->
        <mxCell id="conn-lambda-ssm" value="GetParameter" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#EF6C00;rounded=1;dashed=1;" edge="1" parent="1">
          <mxGeometry x="-0.1" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1380" y="700" as="sourcePoint"/>
            <mxPoint x="1430" y="810" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="1380" y="720"/>
              <mxPoint x="1430" y="720"/>
            </Array>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        
        <!-- Lambda to CloudWatch -->
        <mxCell id="conn-lambda-cw" value="Logs" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#E7157B;rounded=1;dashed=1;" edge="1" parent="1">
          <mxGeometry x="-0.2" y="10" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1125" y="710" as="sourcePoint"/>
            <mxPoint x="1320" y="810" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="1125" y="740"/>
              <mxPoint x="1320" y="740"/>
            </Array>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        
        <!-- Architecture Notes -->
        <mxCell id="notes-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#9E9E9E;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="120" y="520" width="180" height="180" as="geometry"/>
        </mxCell>
        
        <mxCell id="notes-title" value="ðŸ—ï¸ Architecture Notes" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontStyle=1;fontColor=#424242" vertex="1" parent="1">
          <mxGeometry x="120" y="530" width="180" height="25" as="geometry"/>
        </mxCell>
        
        <mxCell id="notes-content" value="âœ… 100% Serverless&#xa;âœ… No VPC (Public Lambda)&#xa;âœ… Pay-per-use model&#xa;âœ… Auto-scaling&#xa;âœ… Global managed services&#xa;&#xa;ðŸŽ¯ Benefits:&#xa;â€¢ Zero server management&#xa;â€¢ Cost-effective&#xa;â€¢ High availability&#xa;â€¢ Fast deployment" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="130" y="560" width="160" height="130" as="geometry"/>
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
